(this.webpackJsonpmailstats=this.webpackJsonpmailstats||[]).push([[0],{65:function(e,t,a){},70:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){},76:function(e,t,a){},79:function(e,t,a){},80:function(e,t,a){},81:function(e,t,a){"use strict";a.r(t);var c=a(0),s=a(50),r=a.n(s),n=(a(65),a(8)),i=a(13),l=a(7),o=a(21),u=(a(70),a(87)),j=a(3),d=function(){var e=Object(c.useState)([]),t=Object(l.a)(e,2),a=t[0],s=t[1],r=Object(c.useState)(!1),d=Object(l.a)(r,2),b=d[0],h=d[1],m=function(){var e=Object(i.a)(Object(n.a)().mark((function e(){var t,a;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),console.log("trigger Axios"),e.next=4,o.a.get("https://mailstats-api.onrender.com/api/v1/queueStats");case 4:t=e.sent,console.log(t.data),a=t.data.sort((function(e,t){return Number(new Date(e.documentID))-Number(new Date(t.documentID))})),200===t.status&&(s(a),h(!1));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){m()}),[]),Object(c.useEffect)((function(){var e=setInterval((function(){return m()}),3e4);return function(){return clearInterval(e)}}),[]);var O=Object(j.jsx)(u.a,{color:"#4f5e7d",loading:b,size:33}),v=a.filter((function(e){return"NoData"!==e.serverName}));return console.log(v),Object(j.jsxs)("div",{className:"QueueStats",children:[Object(j.jsx)("div",{className:"pagelabel",children:Object(j.jsx)("p",{children:"SMTP Queue Stats"})}),Object(j.jsx)("div",{className:"spinnerQueue",children:O}),v.map((function(e){return Object(j.jsx)("div",{className:"listItemWrapperQueue",children:Object(j.jsx)("div",{className:"listItemWrapperInnerQueue",children:Object(j.jsxs)("ul",{children:[Object(j.jsx)("li",{className:"listItemQueue1",children:Object(j.jsx)("div",{className:"serverlabelQueue",children:Object(j.jsx)("p",{children:e.serverName})})}),Object(j.jsxs)("li",{className:"listItemQueue2",children:[Object(j.jsxs)("div",{className:"queueLabel",children:[Object(j.jsx)("p",{className:"label",children:"Queue:"})," ",e.queueName]}),Object(j.jsx)("div",{className:"messageCount",children:e.messageCount})]})]})})})}))]})},b=(a(72),function(){var e=Object(c.useState)([]),t=Object(l.a)(e,2),a=t[0],s=t[1],r=Object(c.useState)(!1),d=Object(l.a)(r,2),b=d[0],h=d[1],m=function(){var e=Object(i.a)(Object(n.a)().mark((function e(){var t,a;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),console.log("trigger Axios"),e.next=4,o.a.get("https://mailstats-api.onrender.com/api/v1/serviceStats");case 4:t=e.sent,console.log(t.data),a=t.data.sort((function(e,t){return Number(new Date(e.documentID))-Number(new Date(t.documentID))})),200===t.status&&(s(a),h(!1));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){m()}),[]),Object(c.useEffect)((function(){var e=setInterval((function(){return m()}),3e4);return function(){return clearInterval(e)}}),[]);var O=Object(j.jsx)(u.a,{color:"#4f5e7d",loading:b,size:33}),v=a.filter((function(e){return"NoData"!==e.serverName}));return console.log(v),Object(j.jsxs)("div",{className:"ServiceStats",children:[Object(j.jsx)("div",{className:"pagelabel",children:Object(j.jsx)("p",{children:"SMTP Service Stats"})}),Object(j.jsx)("div",{className:"spinnerSVC",children:O}),v.map((function(e){return Object(j.jsx)("div",{className:"listItemWrapperSVC",children:Object(j.jsx)("div",{className:"listItemWrapperInner",children:Object(j.jsxs)("ul",{children:[Object(j.jsx)("li",{className:"listItemSVC",children:Object(j.jsx)("div",{className:"serverlabel",children:Object(j.jsx)("p",{children:e.serverName})})}),Object(j.jsxs)("li",{className:"listItemSVC",children:[Object(j.jsx)("p",{className:"servicelabel",children:"Service:"}),Object(j.jsx)("p",{children:e.serviceName})]})]})})})}))]})}),h=(a(73),a(74),function(e){console.log(e.data);var t=e.data;return Object(j.jsx)("div",{children:t.map((function(e){return Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{className:"serverlabelDisk",children:Object(j.jsx)("p",{children:e.serverName})}),Object(j.jsxs)("div",{className:"displayFrame",children:[Object(j.jsx)("div",{className:"header",children:"Drive"}),Object(j.jsx)("div",{className:"header",children:"Total Space"}),Object(j.jsx)("div",{className:"header",children:"Free Space"}),Object(j.jsx)("div",{className:"headerBar"}),Object(j.jsx)("div",{className:"header",children:"% Free"})]}),e.volumes.map((function(e){var t,a;console.log(e.capacityGB,e.freeSpaceGB),t=e.capacityGB>=1024?Math.floor(e.capacityGB/1024).toString().concat(" TB"):Math.floor(e.capacityGB).toString().concat(" GB"),a=e.freeSpaceGB>=1024?Math.floor(e.freeSpaceGB/1024).toString().concat(" TB"):Math.floor(e.freeSpaceGB).toString().concat(" GB");var c,s=Math.floor(e.freeSpaceGB/e.capacityGB*100),r=s.toString().concat("%");c=s<15?s<8?"IndianRed":"Gold":"YellowGreen",console.log(r);var n={backgroundColor:c,width:r};return Object(j.jsxs)("div",{className:"volumesMainGrid",children:[Object(j.jsx)("div",{className:"driveLabelDisk",children:e.label}),Object(j.jsx)("div",{className:"totalSizeDisk",children:t}),Object(j.jsx)("div",{className:"freeSpaceDisk",children:a}),Object(j.jsx)("div",{className:"freeSpaceChartBarDisk",children:Object(j.jsx)("div",{className:"diskBar",style:n})}),Object(j.jsxs)("div",{className:"freeSpacePerCentDisk",children:[s,"%"]})]})}))]})}))})}),m=function(){var e=Object(c.useState)([]),t=Object(l.a)(e,2),a=t[0],s=t[1],r=Object(c.useState)(!1),d=Object(l.a)(r,2),b=d[0],m=d[1],O=function(){var e=Object(i.a)(Object(n.a)().mark((function e(){var t,a;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),console.log("trigger Axios"),e.next=4,o.a.get("https://mailstats-api.onrender.com/api/v1/diskStats");case 4:t=e.sent,a=t.data.sort((function(e,t){return e.serverName.localeCompare(t.serverName)})),200===t.status&&(s(a),m(!1));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){O()}),[]),Object(c.useEffect)((function(){var e=setInterval((function(){return O()}),3e5);return function(){return clearInterval(e)}}),[]);var v=Object(j.jsx)(u.a,{color:"#4f5e7d",loading:b,size:33}),f=a.filter((function(e){return"NoData"!==e.serverName}));return console.log(f),Object(j.jsxs)("div",{className:"DiskStats",children:[Object(j.jsx)("div",{className:"pagelabelDisk",children:Object(j.jsx)("p",{children:"Exchange Disk Stats"})}),Object(j.jsx)("div",{className:"spinnerSVC",children:v}),Object(j.jsx)("div",{className:"WrapperDisk",children:Object(j.jsx)(h,{data:f})})]})},O=(a(75),a(88)),v=a(43),f=(a(76),function(e){console.log(e.data);var t,a=e.data;return console.log(a),Object(j.jsx)(O.a,{children:a.map((function(e){return console.log(e[Object.keys(e)[0]]),t="unhealthy"===e[Object.keys(e)[0]].queuesHealth||"unhealthy"===e[Object.keys(e)[0]].servicesHealth||"unhealthy"===e[Object.keys(e)[0]].diskHealth?{"border-left":"10px solid IndianRed"}:{"border-left":"10px solid YellowGreen"},Object(j.jsx)("div",{style:t,children:Object(j.jsx)(O.a.Item,{title:Object.keys(e)[0],children:Object(j.jsxs)(v.c,{children:[Object(j.jsxs)("div",{className:"heatlhItemGrid",children:[Object(j.jsx)("div",{className:"healthItemPara",children:"Services status: "}),Object(j.jsx)("div",{className:"healthItemParaStatus",children:e[Object.keys(e)[0]].servicesHealth})]}),Object(j.jsxs)("div",{className:"heatlhItemGrid",children:[Object(j.jsx)("div",{className:"healthItemPara",children:"Mail Queues status: "}),Object(j.jsx)("div",{className:"healthItemParaStatus",children:e[Object.keys(e)[0]].queuesHealth})]}),Object(j.jsxs)("div",{className:"heatlhItemGrid",children:[Object(j.jsx)("div",{className:"healthItemPara",children:"Disk Space status: "}),Object(j.jsx)("div",{className:"healthItemParaStatus",children:e[Object.keys(e)[0]].diskHealth})]})]})})},Object.keys(e)[0])}))})});var p=function(){var e,t,a=Object(c.useState)([]),s=Object(l.a)(a,2),r=s[0],d=s[1],b=Object(c.useState)(!1),h=Object(l.a)(b,2),m=h[0],O=h[1],v=function(){var a=Object(i.a)(Object(n.a)().mark((function a(){var c,s,r,i,l,u,j,b,h,m,v;return Object(n.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return O(!0),a.next=3,o.a.get("https://mailstats-api.onrender.com/api/v1/diskStats");case 3:return c=a.sent,s=c.data.sort((function(e,t){return e.serverName.localeCompare(t.serverName)})),r=s.filter((function(e){return"NoData"!==e.serverName})),console.log(r),t=new Array(0),r.forEach((function(e){t.push(e.serverName)})),e=new Array(0),t.forEach((function(t){var a={};a[t]={diskHealth:"healthy",servicesHealth:"healthy",queuesHealth:"healthy"},e.push(a)})),r.forEach((function(t){t.volumes.forEach((function(a){a.freeSpaceGB/a.capacityGB<.15&&(console.log("".concat(t.serverName," unheathy volumes")),e.find((function(e){return Object.keys(e).includes(t.serverName)}))[t.serverName].diskHealth="unhealthy")}))})),a.next=14,o.a.get("https://mailstats-api.onrender.com/api/v1/serviceStats");case 14:return i=a.sent,l=i.data.sort((function(e,t){return e.serverName.localeCompare(t.serverName)})),u=l.filter((function(e){return"NoData"!==e.serverName})),console.log(u),j=[],u.forEach((function(e){return j.push(e.serverName)})),console.log(j),t.forEach((function(t){j.includes(t)&&(e.find((function(e){return Object.keys(e).includes(t)}))[t].servicesHealth="unhealthy")})),a.next=24,o.a.get("https://mailstats-api.onrender.com/api/v1/queueStats");case 24:b=a.sent,h=b.data.sort((function(e,t){return e.serverName.localeCompare(t.serverName)})),m=h.filter((function(e){return"NoData"!==e.serverName})),console.log(m),v=[],m.forEach((function(e){return v.push(e.serverName)})),console.log(v),t.forEach((function(t){v.includes(t)&&(e.find((function(e){return Object.keys(e).includes(t)}))[t].queuesHealth="unhealthy")})),200===b.status&&(console.log(e),d(e),O(!1));case 33:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();Object(c.useEffect)((function(){v()}),[]),Object(c.useEffect)((function(){var e=setInterval((function(){v()}),3e4);return function(){return clearInterval(e)}}),[]);var p=Object(j.jsx)(u.a,{color:"#4f5e7d",loading:m,size:33});return console.log(r),Object(j.jsxs)("div",{className:"home",children:[Object(j.jsx)("p",{children:"Mail Stats"}),Object(j.jsx)("div",{className:"spinnerSVC",children:p}),Object(j.jsx)("div",{className:"WrapperAccordion",children:Object(j.jsx)(f,{data:r})})]})},x=a(26),N=a(6),S=a(86),g=a(89),k=a(29);a(79);var y=function(){var e=Object(c.useState)(!1),t=Object(l.a)(e,2),a=t[0],s=t[1];return Object(j.jsxs)(S.a,{isOpen:a,onClose:function(){return s(!1)},children:[Object(j.jsx)(S.a.Trigger,{children:Object(j.jsx)(g.a,{variant:"secondary",icon:Object(j.jsx)(k.c,{}),"aria-label":"toggle menu",onClick:function(){return s(!a)}})}),Object(j.jsx)(S.a.List,{children:Object(j.jsxs)("div",{className:"menuList",children:[Object(j.jsx)(x.b,{to:"/Home",component:S.a.Item,as:"a",children:"Home"}),Object(j.jsx)(S.a.Divider,{}),Object(j.jsx)(x.b,{to:"/queuestats",component:S.a.Item,as:"a",children:"Mail Queue Statistics"}),Object(j.jsx)(S.a.Divider,{}),Object(j.jsx)(x.b,{to:"/servicestats",component:S.a.Item,as:"a",children:"Mail Service Statistics"}),Object(j.jsx)(S.a.Divider,{}),Object(j.jsx)(x.b,{to:"/diskstats",component:S.a.Item,as:"a",children:"Server Disk Statistics"})]})})]})},I=(a(80),function(){return Object(j.jsx)("div",{className:"AppFrame",children:Object(j.jsxs)(x.a,{children:[Object(j.jsx)("div",{className:"burger",children:Object(j.jsx)(y,{})}),Object(j.jsxs)(N.c,{children:[Object(j.jsx)(N.a,{exact:!0,path:"/",element:Object(j.jsx)(p,{})}),Object(j.jsx)(N.a,{path:"/home",element:Object(j.jsx)(p,{})}),Object(j.jsx)(N.a,{path:"/queuestats",element:Object(j.jsx)(d,{})}),Object(j.jsx)(N.a,{path:"/servicestats",element:Object(j.jsx)(b,{})}),Object(j.jsx)(N.a,{path:"/diskstats",element:Object(j.jsx)(m,{})})]})]})})});r.a.createRoot(document.getElementById("root")).render(Object(j.jsx)(I,{}))}},[[81,1,2]]]);
//# sourceMappingURL=main.5a30fe06.chunk.js.map